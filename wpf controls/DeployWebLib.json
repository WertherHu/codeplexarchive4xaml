{
  "ProjectName": "DeployWebLib",
  "Title": "DeployWebLib",
  "Description": "Build and merge ASP.NET user controls into DLL library which can be later used to dynamically load these user controls from code into other web application projects. You'll no longer need to distribute aspx/ascx files within this library, it is already merged to single DLL.",
  "MovedLink": "",
  "HomeWiki": "<div class=\"wikidoc\"><b>DeployWebLib</b><br />Build and merge ASP.NET user controls into DLL library which can be later used to dynamically load these user controls from code into other web application projects. You&#39;ll no longer need to distribute aspx&#47;ascx files within this library, it is already merged to single DLL.<br /><br /><b>Project benefits</b>\n<ul><li>Builds and mergs all user controls (including ascx, aspx, master) into one library DLL file</li>\n<li>Merges also web resources attached to project as <u>Embedded Resource</u></li>\n<li>You no longer need to manually write <b>&lt;% register assembly=&quot;...&quot; namespace=&quot;...&quot; tagPrefix=&quot;...&quot; </b> stuff at the top of each web page where you want to use user control(s) from library</li>\n<li>Your current code like <b>var control = Page.LoadControl(typeOfControl, null); </b> still works with little change (described later)</li>\n<li>Strong name signed libraries also supported</li>\n<li>No <u>Post Builds events</u> are used, just simple msbuild target injected into csproj/vbproj file</li>\n<li>There is also &quot;utils&quot; class called <u>DeployWebLibUtils</u> which has extension methods to get Type of embedd user control which can be later used to load control into place holder</li></ul>\n<br />For installation and other documentation read <a href=\"https://deployweblib.codeplex.com/documentation?referringTitle=Home\">Documentation</a> page.<br /><br />Do you have questions? - read <a href=\"https://deployweblib.codeplex.com/wikipage?title=faq&referringTitle=Home\">FAQ</a> page.<br /><br /><br /><b>Creating new library (from wizard)</b>\n<ul><li>Project template is installed with project setup</li>\n<li>Visual Studio &gt;&gt; File &gt;&gt; New &gt;&gt; Project... &gt;&gt; Visual C# &gt;&gt; Templates (My Templates) &gt;&gt; <b>WebControlsLibrary</b>\n<ul><li>This will create new ASP.NET Application with modified csproj file to execute custom target <b>ModuleDeploy</b> on <u>AfterBuild</u> msbuild event automatically</li></ul></li></ul>\n<br /><b>Creating new library manually (without wizard)</b>\n<ul><li>Create new project with type <u>ASP.NET Application</u></li>\n<li>In solution explorer, gets context menu on library project node and execute <u>Unload Project</u></li>\n<li>Again in solution explorer, gets context menu on library project node and execute <u>Edit ...csproj</u></li>\n<li>Navigate to line</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v9.0\\WebApplications\\Microsoft.WebApplication.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\r\n</pre></div><ul><li>Add these new lines under above:</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildExtensionsPath)\\DeployWebLib\\DeployWebLib.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Target</span> <span style=\"color:Red;\">Name</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">AfterBuild</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Red;\">DependsOnTargets</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">ModuleDeploy</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\r\n</pre></div><ul><li>and results will be as this:</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v9.0\\WebApplications\\Microsoft.WebApplication.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildExtensionsPath)\\DeployWebLib\\DeployWebLib.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Target</span> <span style=\"color:Red;\">Name</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">AfterBuild</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Red;\">DependsOnTargets</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">ModuleDeploy</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\r\n</pre></div><br /><b>Building library</b>\n<ul><li>When the library is builded within Visual Studio, after compiler builds library then our custom target <u>ModuleDeploy</u> is executed</li>\n<li>MSBuild target <u>ModuleDeploy</u> makes &quot;merginig magic&quot; on library and makes new one (with the same name) and copies it to folder $(SOLUTIONDIR)\\Modules\\Debug|Release</li>\n<li>In target projects, you must reference this library which contains all metadata informations about inner user controls</li></ul>\n<br /><b>Signing library</b>\n<ul><li>When you want to sign library then you must use assembly attribute <b>AssemblyKeyFile</b> (in <u>AssemblyInfo.cs or AssemblyInfo.vb</u> file) to point to existing <u>snk</u> file</li>\n<li>Edit csproj file (like described above, Unload Project and Edit, ...)</li>\n<li>Navigate to this line:</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildBinPath)\\Microsoft.CSharp.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\r\n</pre></div><ul><li>you can see value <u>Microsoft.VisualBasic.targets</u> instead when you have VB.NET project\n</li></ul><ul><li>and add following lines before above node:</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">PropertyGroup</span><span style=\"color:Blue;\">&gt;</span>\n  <span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">DeployWebLibSnkFile</span><span style=\"color:Blue;\">&gt;</span>test.snk<span style=\"color:Blue;\">&lt;/</span><span style=\"color:#A31515;\">DeployWebLibSnkFile</span><span style=\"color:Blue;\">&gt;</span>\n<span style=\"color:Blue;\">&lt;/</span><span style=\"color:#A31515;\">PropertyGroup</span><span style=\"color:Blue;\">&gt;</span>\r\n</pre></div><ul><li>where value of <u>test.snk</u> will be the name of your snk file (the file must be located within solution directory root)\n</li></ul><ul><li>and the results will be as this:</li></ul>\n<div style=\"color:Black;background-color:White;\"><pre>\r\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">PropertyGroup</span><span style=\"color:Blue;\">&gt;</span>\n  <span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">DeployWebLibSnkFile</span><span style=\"color:Blue;\">&gt;</span>test.snk<span style=\"color:Blue;\">&lt;/</span><span style=\"color:#A31515;\">DeployWebLibSnkFile</span><span style=\"color:Blue;\">&gt;</span>\n<span style=\"color:Blue;\">&lt;/</span><span style=\"color:#A31515;\">PropertyGroup</span><span style=\"color:Blue;\">&gt;</span>\n<span style=\"color:Blue;\">&lt;</span><span style=\"color:#A31515;\">Import</span> <span style=\"color:Red;\">Project</span><span style=\"color:Blue;\">=</span><span style=\"color:Black;\">&quot;</span><span style=\"color:Blue;\">$(MSBuildBinPath)\\Microsoft.CSharp.targets</span><span style=\"color:Black;\">&quot;</span> <span style=\"color:Blue;\">/&gt;</span>\r\n</pre></div><br /><b>Demo Example documentation</b><br />See more info about this in <a href=\"https://deployweblib.codeplex.com/wikipage?title=DemoDocs&referringTitle=Home\">Demo Example documentation</a>.<br />\n<hr />\n<sub>Inspiration was taken from project WebLibraryMaker <a href=\"http://weblibrarymaker.codeplex.com\">http://weblibrarymaker.codeplex.com</a>. This project has good starting point, but it does not meet my condition - simple solution!</sub></div><div class=\"ClearBoth\"></div>",
  "TagList": "Aspnet_merge,usercontrol,msbuild,",
  "LastEdited": "2009-11-19T07:26:00.49-08:00"
}